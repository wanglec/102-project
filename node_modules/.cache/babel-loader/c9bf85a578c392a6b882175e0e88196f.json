{"ast":null,"code":"import indexBy from 'index-array-by';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction diffArrays(prev, next, idAccessor) {\n  var result = {\n    enter: [],\n    update: [],\n    exit: []\n  };\n\n  if (!idAccessor) {\n    // use object references for comparison\n    var prevSet = new Set(prev);\n    var nextSet = new Set(next);\n    new Set([].concat(_toConsumableArray(prevSet), _toConsumableArray(nextSet))).forEach(function (item) {\n      var type = !prevSet.has(item) ? 'enter' : !nextSet.has(item) ? 'exit' : 'update';\n      result[type].push(type === 'update' ? [item, item] : item);\n    });\n  } else {\n    // compare by id (duplicate keys are ignored)\n    var prevById = indexBy(prev, idAccessor, false);\n    var nextById = indexBy(next, idAccessor, false);\n    var byId = Object.assign({}, prevById, nextById);\n    Object.entries(byId).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          id = _ref2[0],\n          item = _ref2[1];\n\n      var type = !prevById.hasOwnProperty(id) ? 'enter' : !nextById.hasOwnProperty(id) ? 'exit' : 'update';\n      result[type].push(type === 'update' ? [prevById[id], nextById[id]] : item);\n    });\n  }\n\n  return result;\n}\n\nfunction dataBindDiff(data, existingObjs, _ref3) {\n  var _ref3$objBindAttr = _ref3.objBindAttr,\n      objBindAttr = _ref3$objBindAttr === void 0 ? '__obj' : _ref3$objBindAttr,\n      _ref3$dataBindAttr = _ref3.dataBindAttr,\n      dataBindAttr = _ref3$dataBindAttr === void 0 ? '__data' : _ref3$dataBindAttr,\n      idAccessor = _ref3.idAccessor,\n      _ref3$purge = _ref3.purge,\n      purge = _ref3$purge === void 0 ? false : _ref3$purge;\n\n  var isObjValid = function isObjValid(obj) {\n    return obj.hasOwnProperty(dataBindAttr);\n  };\n\n  var removeObjs = existingObjs.filter(function (obj) {\n    return !isObjValid(obj);\n  });\n  var prevD = existingObjs.filter(isObjValid).map(function (obj) {\n    return obj[dataBindAttr];\n  });\n  var nextD = data;\n  var diff = purge ? {\n    enter: nextD,\n    exit: prevD,\n    update: []\n  } // don't diff data in purge mode\n  : diffArrays(prevD, nextD, idAccessor);\n  diff.update = diff.update.map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        prevD = _ref5[0],\n        nextD = _ref5[1];\n\n    if (prevD !== nextD) {\n      // transfer obj to new data point (if different)\n      nextD[objBindAttr] = prevD[objBindAttr];\n      nextD[objBindAttr][dataBindAttr] = nextD;\n    }\n\n    return nextD;\n  });\n  diff.exit = diff.exit.concat(removeObjs.map(function (obj) {\n    return _defineProperty({}, objBindAttr, obj);\n  }));\n  return diff;\n}\n\nfunction viewDigest(data, existingObjs, // list\nappendObj, // item => {...} function\nremoveObj, // item => {...} function\n_ref7) {\n  var _ref7$createObj = _ref7.createObj,\n      createObj = _ref7$createObj === void 0 ? function (d) {\n    return {};\n  } : _ref7$createObj,\n      _ref7$updateObj = _ref7.updateObj,\n      updateObj = _ref7$updateObj === void 0 ? function (obj, d) {} : _ref7$updateObj,\n      _ref7$exitObj = _ref7.exitObj,\n      exitObj = _ref7$exitObj === void 0 ? function (obj) {} : _ref7$exitObj,\n      _ref7$objBindAttr = _ref7.objBindAttr,\n      objBindAttr = _ref7$objBindAttr === void 0 ? '__obj' : _ref7$objBindAttr,\n      _ref7$dataBindAttr = _ref7.dataBindAttr,\n      dataBindAttr = _ref7$dataBindAttr === void 0 ? '__data' : _ref7$dataBindAttr,\n      dataDiffOptions = _objectWithoutProperties(_ref7, [\"createObj\", \"updateObj\", \"exitObj\", \"objBindAttr\", \"dataBindAttr\"]);\n\n  var _dataBindDiff = dataBindDiff(data, existingObjs, _objectSpread2({\n    objBindAttr: objBindAttr,\n    dataBindAttr: dataBindAttr\n  }, dataDiffOptions)),\n      enter = _dataBindDiff.enter,\n      update = _dataBindDiff.update,\n      exit = _dataBindDiff.exit; // Remove exiting points\n\n\n  exit.forEach(function (d) {\n    var obj = d[objBindAttr];\n    delete d[objBindAttr]; // unbind obj\n\n    exitObj(obj);\n    removeObj(obj);\n  });\n  var newObjs = createObjs(enter);\n  var pointsData = [].concat(_toConsumableArray(enter), _toConsumableArray(update));\n  updateObjs(pointsData); // Add new points\n\n  newObjs.forEach(appendObj); //\n\n  function createObjs(data) {\n    var newObjs = [];\n    data.forEach(function (d) {\n      var obj = createObj(d);\n\n      if (obj) {\n        obj[dataBindAttr] = d;\n        d[objBindAttr] = obj;\n        newObjs.push(obj);\n      }\n    });\n    return newObjs;\n  }\n\n  function updateObjs(data) {\n    data.forEach(function (d) {\n      var obj = d[objBindAttr];\n\n      if (obj) {\n        obj[dataBindAttr] = d;\n        updateObj(obj, d);\n      }\n    });\n  }\n}\n\nexport default viewDigest;","map":{"version":3,"sources":["/Users/lechuanwang/Documents/2021 spring/dsc106/project/dsc102/102-project/node_modules/data-joint/dist/data-joint.module.js"],"names":["indexBy","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","Symbol","iterator","from","_i","_arr","_n","_d","_s","_e","next","done","err","o","minLen","n","toString","slice","constructor","name","test","len","arr2","TypeError","diffArrays","prev","idAccessor","result","enter","update","exit","prevSet","Set","nextSet","concat","item","type","has","prevById","nextById","byId","assign","entries","_ref","_ref2","id","hasOwnProperty","dataBindDiff","data","existingObjs","_ref3","_ref3$objBindAttr","objBindAttr","_ref3$dataBindAttr","dataBindAttr","_ref3$purge","purge","isObjValid","removeObjs","prevD","map","nextD","diff","_ref4","_ref5","viewDigest","appendObj","removeObj","_ref7","_ref7$createObj","createObj","d","_ref7$updateObj","updateObj","_ref7$exitObj","exitObj","_ref7$objBindAttr","_ref7$dataBindAttr","dataDiffOptions","_dataBindDiff","newObjs","createObjs","pointsData","updateObjs"],"mappings":"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","sourcesContent":["import indexBy from 'index-array-by';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction diffArrays(prev, next, idAccessor) {\n  var result = {\n    enter: [],\n    update: [],\n    exit: []\n  };\n\n  if (!idAccessor) {\n    // use object references for comparison\n    var prevSet = new Set(prev);\n    var nextSet = new Set(next);\n    new Set([].concat(_toConsumableArray(prevSet), _toConsumableArray(nextSet))).forEach(function (item) {\n      var type = !prevSet.has(item) ? 'enter' : !nextSet.has(item) ? 'exit' : 'update';\n      result[type].push(type === 'update' ? [item, item] : item);\n    });\n  } else {\n    // compare by id (duplicate keys are ignored)\n    var prevById = indexBy(prev, idAccessor, false);\n    var nextById = indexBy(next, idAccessor, false);\n    var byId = Object.assign({}, prevById, nextById);\n    Object.entries(byId).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          id = _ref2[0],\n          item = _ref2[1];\n\n      var type = !prevById.hasOwnProperty(id) ? 'enter' : !nextById.hasOwnProperty(id) ? 'exit' : 'update';\n      result[type].push(type === 'update' ? [prevById[id], nextById[id]] : item);\n    });\n  }\n\n  return result;\n}\n\nfunction dataBindDiff(data, existingObjs, _ref3) {\n  var _ref3$objBindAttr = _ref3.objBindAttr,\n      objBindAttr = _ref3$objBindAttr === void 0 ? '__obj' : _ref3$objBindAttr,\n      _ref3$dataBindAttr = _ref3.dataBindAttr,\n      dataBindAttr = _ref3$dataBindAttr === void 0 ? '__data' : _ref3$dataBindAttr,\n      idAccessor = _ref3.idAccessor,\n      _ref3$purge = _ref3.purge,\n      purge = _ref3$purge === void 0 ? false : _ref3$purge;\n\n  var isObjValid = function isObjValid(obj) {\n    return obj.hasOwnProperty(dataBindAttr);\n  };\n\n  var removeObjs = existingObjs.filter(function (obj) {\n    return !isObjValid(obj);\n  });\n  var prevD = existingObjs.filter(isObjValid).map(function (obj) {\n    return obj[dataBindAttr];\n  });\n  var nextD = data;\n  var diff = purge ? {\n    enter: nextD,\n    exit: prevD,\n    update: []\n  } // don't diff data in purge mode\n  : diffArrays(prevD, nextD, idAccessor);\n  diff.update = diff.update.map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        prevD = _ref5[0],\n        nextD = _ref5[1];\n\n    if (prevD !== nextD) {\n      // transfer obj to new data point (if different)\n      nextD[objBindAttr] = prevD[objBindAttr];\n      nextD[objBindAttr][dataBindAttr] = nextD;\n    }\n\n    return nextD;\n  });\n  diff.exit = diff.exit.concat(removeObjs.map(function (obj) {\n    return _defineProperty({}, objBindAttr, obj);\n  }));\n  return diff;\n}\n\nfunction viewDigest(data, existingObjs, // list\nappendObj, // item => {...} function\nremoveObj, // item => {...} function\n_ref7) {\n  var _ref7$createObj = _ref7.createObj,\n      createObj = _ref7$createObj === void 0 ? function (d) {\n    return {};\n  } : _ref7$createObj,\n      _ref7$updateObj = _ref7.updateObj,\n      updateObj = _ref7$updateObj === void 0 ? function (obj, d) {} : _ref7$updateObj,\n      _ref7$exitObj = _ref7.exitObj,\n      exitObj = _ref7$exitObj === void 0 ? function (obj) {} : _ref7$exitObj,\n      _ref7$objBindAttr = _ref7.objBindAttr,\n      objBindAttr = _ref7$objBindAttr === void 0 ? '__obj' : _ref7$objBindAttr,\n      _ref7$dataBindAttr = _ref7.dataBindAttr,\n      dataBindAttr = _ref7$dataBindAttr === void 0 ? '__data' : _ref7$dataBindAttr,\n      dataDiffOptions = _objectWithoutProperties(_ref7, [\"createObj\", \"updateObj\", \"exitObj\", \"objBindAttr\", \"dataBindAttr\"]);\n\n  var _dataBindDiff = dataBindDiff(data, existingObjs, _objectSpread2({\n    objBindAttr: objBindAttr,\n    dataBindAttr: dataBindAttr\n  }, dataDiffOptions)),\n      enter = _dataBindDiff.enter,\n      update = _dataBindDiff.update,\n      exit = _dataBindDiff.exit; // Remove exiting points\n\n\n  exit.forEach(function (d) {\n    var obj = d[objBindAttr];\n    delete d[objBindAttr]; // unbind obj\n\n    exitObj(obj);\n    removeObj(obj);\n  });\n  var newObjs = createObjs(enter);\n  var pointsData = [].concat(_toConsumableArray(enter), _toConsumableArray(update));\n  updateObjs(pointsData); // Add new points\n\n  newObjs.forEach(appendObj); //\n\n  function createObjs(data) {\n    var newObjs = [];\n    data.forEach(function (d) {\n      var obj = createObj(d);\n\n      if (obj) {\n        obj[dataBindAttr] = d;\n        d[objBindAttr] = obj;\n        newObjs.push(obj);\n      }\n    });\n    return newObjs;\n  }\n\n  function updateObjs(data) {\n    data.forEach(function (d) {\n      var obj = d[objBindAttr];\n\n      if (obj) {\n        obj[dataBindAttr] = d;\n        updateObj(obj, d);\n      }\n    });\n  }\n}\n\nexport default viewDigest;\n"]},"metadata":{},"sourceType":"module"}